<!-- Wrapper -->
<div class="wrapper" ng-controller="billingController" ng-init="billing.active();">
    <spinner name="billingSpinner" ng-cloak="">
        <div class="overlay"></div>
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
        <div class="please-wait">Please wait...</div>
    </spinner>
    <!-- Header Template-->
    <div ng-include="headerTemplate"></div>
    <!-- /.Header Template-->
    <!-- Left Navigation Template -->
    <div ng-include="leftNavigationTemplate"></div>
    <!-- /.Left Navigation Template -->
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Billing
                <small>List</small>
            </h1>
            <ol class="breadcrumb">
                <li>
                    <a>
                        <i class="fa fa-file-text-o"></i>
                        <span>Billing</span> 
                    </a>    
                </li>
            </ol>
        </section>
        <!-- /.Content Header (Page header) -->
        <!-- Main Content -->
        <section class="content">
            <!-- Continue Codes Here -->
            <!-- Main Box -->
            <div class="box box-success">
                <!-- Box Header -->
                <div class="box-header with-border">
                    <h3 class="box-title">B-List</h3>
                </div>
                <!-- /.Box Header -->
                <!-- Box Body -->
                <div class="box-body">
                    <!-- Row -->
                    <div class="row">                             
                        <div class="col-md-12" ng-init="billing123();">
                            <div class="search-input-wrapper">	  
                                <div class="btn-toolbar">
                                </div>  
                                <!-- Datatables -->
                                <table id="billing" datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstance14" class="display compact" style="width:100%"></table>
                                <!-- /.Datatables -->
                            </div>    
                        </div>    
                    </div>
                    <!-- /.Row -->
                </div>
                <!-- /.Box Body -->
            </div>
            <!-- /.Main Box -->
        </section>
        <!-- /.Main Content -->

    </div>
    <!-- /.Content Wrapper. Contains page content -->
    <!-- Footer Template -->
    <div ng-include="footerTemplate"></div>
    <!-- /.Footer Template -->

    <!-- Modal for Add Billing -->
    <div class="modal fade modal-success" data-backdrop="static" id="addBilling" data-keyboard="true" tabindex="-1" role="dialog" aria-labelledby="addBilling" style="overflow: scroll !important;">
        <!-- Modal Dialog -->
        <div class="modal-dialog" role="document">
            <!-- Modal Content -->
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title"><i class="fa fa-pencil-square-o fa-xs" aria-hidden="true"></i> Add Billing</h4>
                </div>
                <!-- /.Modal Header -->
                <!-- Modal Body -->
                <div class="modal-body" style="color:#333 !important;background:#ffffff !important">
                    <!-- row -->
                    <div class = "row">
                        <form name="myForm" id="myform" novalidate>
                            <!-- Div Content -->
                            <div class="account-content">
                                <!-- Client Name -->
                                <div class ="col-md-12" style="margin-top:10px">
                                    <div class="col-sm-6">
                                        <input type="hidden" ng-model="add_client_name">
                                        <label  class="control-label" for="add_client_name">Client Name:</label><br/>
                                        <select class="js-data-example-ajax form-control serverside_client" style="width:100%;padding:5px;" data-placeholder="Client Name" ng-disabled="isSaving" name="add_client_name_id" select2 ng-model="add_client_name_id" ng-change="clientInfo();" ng-disabled="isSaving" required/> 
                                        </select>
                                        <!-- Date -->
                                    </div>    
                                    <div class="col-sm-6">
                                        <input type = "hidden" ng-model= "add_control_no">
                                        <label class="control-label" for="add_date_issued">Date Issued:<i style="color:#f90000" ng-show="myForm.add_date_issued.$error.required">*</i></label>
                                        <input type="text" name="add_date_issued" ng-model="add_date_issued" class="form-control" placeholder="Date Issued" readonly="readonly" ng-disabled="isSaving" style="background:#fff;" datepicker required/>
                                    </div>
                                    <!-- /.Date -->
                                </div>   
                                <!--Address-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <div class="col-sm-12">
                                        <label class="control-label" for="add_address">Address:<i style="color:#f90000" ng-show="myForm.add_address.$error.required">*</i></label>
                                        <textarea style="resize:vertical;height:50px;" id="add_address" ng-model="add_address" name="add_address" class="form-control" placeholder="Address" ng-disabled="isSaving" readonly/></textarea>
                                    </div>
                                </div>
                                <!--Contact Number/Amount-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <div class="col-sm-6">
                                        <label class="control-label" for="add_cp">Contact Number:<i style="color:#f90000" ng-show="myForm.add_cp.$error.required">*</i></label>
                                        <input type="text" id="add_cp" name="add_cp" ng-model="add_cp" class="form-control" placeholder="Contact Number" ng-disabled="isSaving" readonly/>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label" for="add_amount">Amount:<i style="color:#f90000" ng-show="myForm.add_amount.$error.required">*</i></label>
                                        <input type="text" id="add_amount" name="add_amount" ng-model="add_amount" class="form-control" placeholder="Amount" ng-disabled="isSaving"  number-float step="0.01" required/>
                                    </div>
                                </div>
                                <!-- Particulars-->
                                <div class="col-md-12" style="margin-top:10px; padding-right:30px; padding-left:30px;">
                                    <label class="control-label" for="add_particulars">Particulars:<i style="color:#f90000" ng-show="myForm.add_particulars.$error.required">*</i></label>
                                    <textarea style="resize:vertical;height:100px;" id="add_particulars" ng-model="add_particulars" name="add_particulars" class="form-control" placeholder="Particulars" ng-disabled="isSaving" required/></textarea>
                                </div>
                                    <!--Prepared By-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <input type="hidden" ng-model="add_prepared_by_employee_id"/>
                                    <input type="hidden" ng-model="add_prepared_by_employee_name"/>
                                </div>
                            </div>
                            <!-- /.Div Content -->
                        </form>
                    </div>
                    <!-- row -->
                </div>
                <!-- /.Modal Body -->
                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-flat btn-danger pull-left" data-dismiss="modal" ng-disabled="isSaving">Close</button>
                    <button type="submit" class="btn btn-flat btn-primary" ng-click="addBillingAccount();">Save</button>
                </div>
                <!-- /.Modal Footer -->
            </div>
            <!-- /.Modal Content -->
        </div>
        <!-- /.Modal Dialog -->
    </div>
    <!-- /.Modal for Add Billing -->
    

    <!-- Modal for Edit Billing -->
    <div class="modal fade modal-success" data-backdrop="static" id="editBilling" data-keyboard="true" tabindex="-1" role="dialog" aria-labelledby="editBilling" style="overflow: scroll !important;">
        <!-- Modal Dialog -->
        <div class="modal-dialog" role="document">
            <!-- Modal Content -->
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title"><i class="fa fa-pencil-square-o fa-xs" aria-hidden="true"></i> Edit Billing </h4>
                </div>
                <!-- /.Modal Header -->
                <!-- Modal Body -->
                <div class="modal-body" style="color:#333 !important;background:#ffffff !important">
                    <!-- row -->
                    <div class = "row">
                        <form name="editmyForm" id="editmyform" novalidate>
                            <!-- Div Content -->
                            <div class="account-content">
                                <!--Billing No-->
                                <div class ="col-md-12" style="margin-top:10px">

                                    <div class = "col-sm-12">
                                        <label class="control-label" for="edit_control_no" style = "font-size:15px;">Billing No.:
                                            {{edit_control_no}}</label>
                                    </div>
                                </div>
                                
                                <!-- Client Name -->
                                <div class ="col-md-12" style="margin-top:10px">
                                    <div class="col-sm-6">
                                        <input type="hidden" ng-model="edit_billing_id">
                                        <input type="hidden" ng-model="edit_client_name">
                                        <label  class="control-label" for="edit_client_name">Client Name:</label><br/>
                                        <select class="js-data-example-ajax form-control serverside_client" style="width:100%;padding:5px;" data-placeholder="Client Name" ng-disabled="isSaving" name="edit_client_name_id" id="edit_client_name_id_text" ng-change="clientInfo();" select2 ng-model="edit_client_name_id" ng-disabled="isSaving" required/> 
                                        </select>
                                        <!-- Date -->
                                    </div>    
                                    <div class="col-sm-6">
                                        <input type = "hidden" ng-model= "edit_control_no">
                                        <label class="control-label" for="edit_date_issued">Date Issued:<i style="color:#f90000" ng-show="editmyForm.edit_date_issued.$error.required">*</i></label>
                                        <input type="text" name="edit_date_issued" ng-model="edit_date_issued" class="form-control" placeholder="Date Issued" readonly="readonly" ng-disabled="isSaving" style="background:#fff;" datepicker required/>
                                    </div>
                                    <!-- /.Date -->
                                </div>   
                                <!--address-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <div class="col-sm-12">
                                        <label class="control-label" for="edit_address">Address:<i style="color:#f90000" ng-show="editmyForm.edit_address.$error.required">*</i></label>
                                        <textarea style="resize:vertical;height:50px;" id="edit_address" ng-model="edit_address" name="edit_address" class="form-control" placeholder="Address" ng-disabled="isSaving" readonly/></textarea>
                                    </div>
                                </div>
                                <!--Contact Number/Amount-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <div class="col-sm-6">
                                        <label class="control-label" for="edit_cp">Contact Number:<i style="color:#f90000" ng-show="editmyForm.edit_cp.$error.required">*</i></label>
                                        <input type="text" id="edit_cp" name="edit_cp" ng-model="edit_cp" class="form-control" placeholder="Contact Number" ng-disabled="isSaving" readonly/>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label" for="edit_amount">Amount:<i style="color:#f90000" ng-show="editmyForm.edit_amount.$error.required">*</i></label>
                                        <input type="text" id="edit_amount" name="edit_amount" ng-model="edit_amount" class="form-control" placeholder="Amount" ng-disabled="isSaving"  number-float step="0.01" required/>
                                    </div>
                                </div>
                                <!-- Particulars-->
                                <div class="col-md-12" style="margin-top:10px; padding-right:30px; padding-left:30px;">
                                    <label class="control-label" for="edit_particulars">Particulars:<i style="color:#f90000" ng-show="editmyForm.edit_particulars.$error.required">*</i></label>
                                    <textarea style="resize:vertical;height:100px;" id="edit_particulars" ng-model="edit_particulars" name="edit_particulars" class="form-control" placeholder="Particulars" ng-disabled="isSaving" required/></textarea>
                                </div>
                                    <!--Prepared By-->
                                <div class = "col-md-12" style="margin-top:10px">
                                    <input type="hidden" ng-model="edit_prepared_by_employee_id"/>
                                    <input type="hidden" ng-model="edit_prepared_by_employee_name"/>
                                </div>
                            </div>
                            <!-- /.Div Content -->
                        </form>
                    </div>
                    <!-- row -->
                </div>
                <!-- /.Modal Body -->
                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-flat btn-danger pull-left" data-dismiss="modal" ng-disabled="isSaving">Close</button>
                    <button type="submit" class="btn btn-flat btn-default" data-target ="#confirmPrintBilling" ng-print print-element-id="confirm_print_billing"> <i class = "fa fa-print"></i> Print</button>
                    <button type="submit" class="btn btn-flat btn-danger" data-toggle="modal" data-target="#disapprovedBilling">Disapproved</button>
                    <button type="submit" class="btn btn-flat btn-warning" ng-click="editBillingAccount();">Approved</button>
                    <button type="submit" class="btn btn-flat btn-primary" ng-click="editBillingAccount();">Save</button>
                </div>
                <!-- /.Modal Footer -->
            </div>
            <!-- /.Modal Content -->
        </div>
        <!-- /.Modal Dialog -->
    </div>
    <!-- /.Modal for Edit Billing -->

    <!--Disapproved-->
    <div class="modal fade modal-success" data-backdrop="static" id="disapprovedBilling" data-keyboard="true" tabindex="-1" role="dialog" aria-labelledby="disapprovedBilling" style="overflow: scroll !important;">
        <!-- Modal Dialog -->
        <div class="modal-dialog" role="document">
            <!-- Modal Content -->
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title"><i class="fa fa-ban"></i> Confirmation </h4>
                </div>
                <!-- /.Modal Header -->
                <!-- Modal Body -->
                <div class="modal-body mx-3" style="color:#333 !important;background: #ffffff !important">
                    <div class="span5">Are you sure you want to Disapproved?</div>
                </div>
                <!-- /.Modal Body -->
                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-flat btn-danger pull-left" data-dismiss="modal" data-toggle="modal">Close</button>
                    <button data-dismiss="modal" type="button" class="btn btn-flat btn-primary" ng-click="disapproved_billing();"> Save</button>
                </div>
                <!-- /.Modal Footer -->
            </div>
            <!-- /.Modal Content -->
        </div>
        <!-- /.Modal Dialog -->
    </div>
    <!--/.Disapproved-->

    <!-- Print -->
    <div id="confirm_print_billing" class="print-only" style="width: 100% !important">
        <!-- row -->
        <div class = "row">
            <div class = "col-xs-12" style = "margin-top:5%;">
                <div class="col-xs-2 paddingZero" style="text-align: right;padding-bottom: 20px;">
                    <img src="frontend/assets/images/login/logofinal.png" style = "height:110px; width:110px;"/>
                </div>
                <div class = "col-xs-10">
                    <span style = "font-size:25px;  margin-left:18px; font-weight: bold;">LANCE&nbsp;GAVIEN&nbsp;SECURITY&nbsp;AGENCY</span>
                    <span style = "font-size:17px; margin-left:70px; font-weight: bold;">Purok&nbsp;Mabini,&nbsp;Poblacion,&nbsp;Liloan,&nbsp;Cebu</span><br>
                    <span style = "font-size:17px; margin-left:70px; font-weight: bold;">Tel.&nbsp;No.&nbsp;424-4293&nbsp;TIN:&nbsp;142-291-298-000</span>
                </div>
            </div>

            <div class = "col-xs-12">
                <div class = "col-xs-12 text-center" style = "font-weight: bold; font-size:20px;">
                    <span>BILL OF</span>
                    <span>SERVICE RENDERED</span>
                </div>
            </div>
            <div class = "col-xs-12" style = "padding-top:30px;">
                <div class = "col-xs-6 paddingZero">
                    <span>Name&nbsp;&nbsp;:&nbsp;</span>
                </div>
                <div class = "col-xs-6 paddingZero" style="text-align:right;">
                    <span>Date&nbsp;:&nbsp;</span>
                </div>
            </div>
            <div class = "col-xs-12">
                <div class = "col-xs-6 paddingZero">
                    <span>Address&nbsp;&nbsp;:&nbsp;</span>
                </div>
                <div class = "col-xs-6 paddingZero" style="text-align:right;">
                    <span>Contact No.&nbsp;:&nbsp;</span>
                </div>
            </div>

            <div class = "col-xs-12">
                <div class="col-xs-12 paddingZero" style="padding-top:15px">
                    <div class="col-container" style="display: flex;width: 100%;">
                        <div class="col-xs-8  text-center border" ><label>PARTICULARS</label></div>
                        <div class="col-xs-4  text-center border" ><label>AMOUNT</label></div>
                    </div>
                
                </div>
                <div class="col-container" style="display: flex;width: 100%;">
                    <div class="paddingZero col" style="border: 1px solid #000000;width:66.6%; padding-top: 50px; padding-left:5px; padding-right:5px; ">
                        <p style="word-break: break-all;font-size: 7pt"> <b>RE: PAYMENT OF SECURITY SERVICESS FOR THE PERIOD COVERED APRIL 1-15,2020 FOR TWO (2) UNIFORM GUARD RENDERING TWELVE (12) HOURS DUTY DAILY. </b></p>
                        <br>
                        <br>
                        <br>
                        <br>
                        <p style = "padding-top:50px;"><b>TOTAL AMOUNT DUE & COLLECTIBLE FOR THIS PERIOD</b></p>
                    </div>
                    <div class="paddingZero col" style="border: 1px solid #000000;width:33.4%; text-align: center; padding-top: 50px;">
                        <p style="word-break: break-all;font-size: 7pt"><b> P 12,000.00 </b></p>
                        <br>
                        <br>
                        <br>
                        <br>        
                        <p style = "padding-top:50px;"><b>P 12,000.00</b></p>
                    </div>
                </div>
            </div>
            <div class = "col-xs-12">
                <div class = "col-xs-12 paddingZero" style = "font-size:11px">
                    <span>The client hereby that if this bill is not paid within thirty days from date hereof an interest of 12% per annum will be change on all overdue aacount plus 25% of the said amount for attorney's fees and cost of collection.</span>
                </div>
            </div>
            <div class="col-xs-12 paddingZero" style="padding-top:50px">
                <div class="col-xs-6">
                    Prepared By:<br>
                    <p style="text-align: center;">{{update.createdby}}</p><br>
                </div>
                <div class="col-xs-6">
                    Approved By:<br>
                    <p style="text-align: center;">{{update.createdby}}</p><br>
                </div>
            </div>


        </div>
        <!--/. row-->
    </div>



</div>
<!-- /.Wrapper -->


<!-- CSS -->
<style rel="stylesheet">
#billing th {
    background-color: #4CAF50;
    font-weight: 600;
}
#billing td {
    font-size: 12px;
}
.print-only{
        display: none;
    }

    @media print {
        .no-print {
            display: none;
        }

        .print-only{
            display: block;
        }
}
.paddingZero{ 
    padding:0
}
.border{ border:1px solid #000000}
.margin{ margin-bottom: 1%;}
.inputBorders{border-bottom: none; border-right: none; border-top: none; }
.inputcolor::-webkit-input-placeholder{color: #000 !important; font-family:Georgia, "Times New Roman", Times, serif; font-weight:bold}
.txtresize{ resize:vertical;  min-height:110px !important; }	
.readonly{
    background: white !important;
}
/*Parts Table*/
.col-container {
    display: table;
    width: 100%;
}
.col {
    display: table-cell;
}
/*Parts Table*/

</style>
<!-- /.CSS -->


<!-- Javascript src -->
<script type="text/javascript" src="frontend/dependencies/bower_components/function/serverSideDropdown.js"></script>
<!-- /.Javascript src -->